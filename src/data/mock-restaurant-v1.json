{
  "$schema": "./schema.json",
  "systemConfig": {
    "version": "3.0.0",
    "templateEngine": {
      "name": "TemplateMaster",
      "version": "1.2.0",
      "adaptableDomains": [
        "restaurant",
        "services",
        "creative",
        "ecommerce"
      ],
      "migrationPaths": {
        "restaurant_to_services": "service-transformer-v2",
        "restaurant_to_creative": "creative-transformer-v1"
      }
    },
    "observability": {
      "logging": {
        "level": "debug",
        "customizationEvents": true
      },
      "analyticsIntegration": [
        "GA4",
        "Hotjar",
        "Facebook"
      ]
    }
  },
  "store": {
    "id": "store_001",
    "type": "restaurant",
    "businessModel": "food_delivery",
    "templateMetadata": {
      "createdFrom": "template_restaurant_v3",
      "lastAdaptation": "2025-08-14T12:00:00Z",
      "compatibility": {
        "services": 0.92,
        "creative": 0.85,
        "ecommerce": 0.78
      }
    },
    "contact": {
      "whatsapp": {
        "businessAccount": true,
        "messageTemplates": {
          "orderConfirmation": "tmpl_order_confirmation_v2",
          "deliveryUpdate": "tmpl_delivery_update_v1"
        }
      }
    },
    "settings": {
      "customizationEngine": {
        "type": "ingredients_and_features",
        "realTimePreview": true,
        "nutritionalCalculation": true,
        "allergenTracking": true
      }
    }
  },
  "categories": [
    {
      "id": "cat_001",
      "customizationConfig": {
        "engine": "feature-based",
        "rules": {
          "maxIngredients": 10,
          "maxFeatures": 5,
          "requiredFeatures": [
            "size",
            "bread_type"
          ]
        }
      }
    }
  ],
  "products": [
    {
      "id": "prod_001",
      "name": "Dogo Regiomontano",
      "image": "/images/dogo-regiomontano.jpg",
      "basePrice": 45.00,
      "category": "Hot Dogs",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "El clásico de Monterrey con salchicha de res, bacon, queso asadero derretido, frijoles charros, aguacate, jitomate y salsa verde de la casa.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 20.0,
              "currency": "MXN"
            },
            "affects": [
              "price",
              "nutrition",
              "prep_time"
            ],
            "validation": {
              "required": true,
              "incompatibleWith": {
                "bread": [
                  "pretzel"
                ]
              }
            }
          }
        },
        "ingredients": {
          "grouping": "category_based",
          "pricingTiers": [
            {
              "category": "quesos",
              "maxSelection": 3,
              "groupDiscount": {
                "threshold": 2,
                "discount": 5,
                "appliesTo": "all"
              }
            }
          ]
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "customizable_service",
          "fieldMappings": {
            "customizationFeatures": "serviceOptions",
            "additionalIngredients": "serviceAddOns"
          }
        }
      }
    },
    {
      "id": "prod_002",
      "name": "Perra Norteña",
      "image": "/images/perra-nortena.jpg",
      "basePrice": 85.00,
      "category": "Hot Dogs",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Jumbo de 30cm con arrachera asada, queso Oaxaca, guacamole, pico de gallo, chile toreado y salsa chipotle. Un clásico del norte mexicano.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 30.0,
              "currency": "MXN"
            },
            "affects": [
              "price",
              "nutrition"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "premium_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_003",
      "name": "Perro Pastor",
      "image": "/images/perro-pastor.jpg",
      "basePrice": 65.00,
      "category": "Hot Dogs",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Hot dog con carne de pastor auténtica, piña asada, cebolla morada, cilantro, salsa de pastor y un toque de limón. Sabor 100% mexicano.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 25.0,
              "currency": "MXN"
            },
            "affects": [
              "price",
              "nutrition"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "specialty_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_004",
      "name": "Perra Cochina",
      "image": "/images/perra-cochina.jpg",
      "basePrice": 75.00,
      "category": "Hot Dogs",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Especialidad yucateca en Monterrey: cochinita pibil desmenuzada, cebolla morada encurtida, habanero, aguacate y salsa de achiote.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 25.0,
              "currency": "MXN"
            },
            "affects": [
              "price",
              "nutrition"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "specialty_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_005",
      "name": "Dogo Sonorense",
      "image": "/images/dogo-sonorense.jpg",
      "basePrice": 55.00,
      "category": "Hot Dogs",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Estilo Sonora con salchicha envuelta en tocino, frijoles bayos, jitomate, cebolla, jalapeños, aguacate, mayonesa y salsa de chile güero.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 20.0,
              "currency": "MXN"
            },
            "affects": [
              "price",
              "nutrition"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "regional_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_006",
      "name": "Mega Perrón de 50cm",
      "image": "/images/mega-perron.jpg",
      "basePrice": 125.00,
      "category": "Hot Dogs",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "¡El reto de Monterrey! 50cm de pura sabrosura con doble salchicha, chorizo, queso asadero, guacamole, frijoles charros y todas las salsas.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 15.0,
              "currency": "MXN"
            },
            "affects": [
              "price",
              "nutrition"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "challenge_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_007",
      "name": "Papas Gajo con Chile",
      "image": "/images/papas-gajo-chile.jpg",
      "basePrice": 35.00,
      "category": "Acompañamientos",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Papas gajo crujientes con chile piquín, limón, queso rallado y salsa valentina. El acompañamiento perfecto estilo mexicano.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 15.0,
              "currency": "MXN"
            },
            "affects": [
              "price"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "addon_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_008",
      "name": "Elotes Preparados",
      "image": "/images/elotes-preparados.jpg",
      "basePrice": 30.00,
      "category": "Acompañamientos",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Elotes desgranados con mayonesa, queso cotija, chile piquín, limón y chile en polvo. Tradición mexicana en cada bocado.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 10.0,
              "currency": "MXN"
            },
            "affects": [
              "price"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "traditional_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_009",
      "name": "Coca-Cola Mexicana",
      "image": "/images/coca-cola-mexicana.jpg",
      "basePrice": 25.00,
      "category": "Bebidas",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Coca-Cola mexicana de vidrio retornable de 355ml, hecha con azúcar de caña. El sabor auténtico que acompaña tu comida.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 10.0,
              "currency": "MXN"
            },
            "affects": [
              "price"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "beverage_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    },
    {
      "id": "prod_010",
      "name": "Agua de Horchata",
      "image": "/images/agua-horchata.jpg",
      "basePrice": 30.00,
      "category": "Bebidas",
      "vertical": "restaurant",
      "templateType": "customizable_product",
      "description": "Agua fresca de horchata natural con arroz, canela, vainilla y leche condensada. Refrescante y tradicional, perfecta para el calor de Monterrey.",
      "customizationSchema": {
        "features": {
          "size": {
            "pricingModel": {
              "type": "absolute",
              "value": 12.0,
              "currency": "MXN"
            },
            "affects": [
              "price"
            ],
            "validation": {
              "required": true
            }
          }
        }
      },
      "templateMappings": {
        "service": {
          "targetType": "traditional_beverage_service",
          "fieldMappings": {
            "customizationFeatures": "serviceFeatures",
            "additionalIngredients": "serviceAddons"
          }
        }
      }
    }
  ],
  "verticals": {
    "restaurant": {
      "templateConfig": {
        "requiredFields": [],
        "additionalComponents": []
      },
      "products": [],
      "customizationRules": {
        "global": {
          "maxCustomizationValue": 300,
          "freeItemsLimit": 3,
          "validationEngine": "template-master-v2"
        }
      }
    }
  },
  "analytics": {
    "customizationTracking": {
      "popularCombinations": {
        "storage": "aggregated",
        "sampleRate": 0.8,
        "retentionDays": 30
      }
    }
  },
  "templateExtensions": {
    "services": {
      "requiredFields": [
        "serviceDuration",
        "serviceType"
      ],
      "additionalComponents": [
        "serviceCalendar"
      ]
    },
    "creative": {
      "requiredFields": [
        "projectTimeline",
        "deliverables"
      ],
      "additionalComponents": [
        "portfolioGallery"
      ]
    }
  }
}